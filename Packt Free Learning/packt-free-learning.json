{
  "schema_version": 1,
  "name": "Packt Free Learning",
  "description": "No description provided",
  "source_url": false,
  "guid": "fc34d3d52c75059a79b2804f022e0f19",
  "tag_fg_color": "#ffffff",
  "tag_bg_color": "#5bc0de",
  "icon": "gear",
  "exported_at": "2020-04-03T17:52:54Z",
  "agents": [
    {
      "type": "Agents::DataOutputAgent",
      "name": "Packt RSS Output",
      "disabled": false,
      "guid": "3d0b8850db2184ee4f2a4f388ec78431",
      "options": {
        "secrets": [
          "rssfeed"
        ],
        "expected_receive_period_in_days": 2,
        "template": {
          "title": "Packt Free Learning as a feed",
          "description": "This is a feed of recent Packt Free Learning Ebooks, generated by Huginn",
          "item": {
            "title": "{{title}}",
            "description": "Title: {{title}}{% line_break %}Author: {{author}}{% line_break %}Published: {{publication_date}}{% line_break %}Page Count: {{page_count}} Pages{% line_break %}Overview: {{overview}}{% line_break %}Link: {{url}}",
            "link": "{{url}}"
          }
        },
        "ns_media": "true"
      },
      "propagate_immediately": true
    },
    {
      "type": "Agents::PhantomJsCloudAgent",
      "name": "Packt PhantomJS Puller",
      "disabled": false,
      "guid": "3dfda93ffe708039a5aab172e77f4411",
      "options": {
        "mode": "clean",
        "api_key": "{% credential phantomjscloud_api_key %}",
        "url": "https://www.packtpub.com/free-learning",
        "render_type": "html",
        "output_as_json_radio": "false",
        "output_as_json": "false",
        "ignore_images_radio": "false",
        "ignore_images": "false",
        "user_agent": "Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en) AppleWebKit/534.11+ (KHTML, like Gecko) Version/7.1.0.346 Mobile Safari/534.11+",
        "wait_interval": "1000"
      },
      "schedule": "every_1h",
      "keep_events_for": 0,
      "propagate_immediately": false
    },
    {
      "type": "Agents::WebsiteAgent",
      "name": "Packt Scraper",
      "disabled": false,
      "guid": "42c0c34bb354942c93947e4070091df3",
      "options": {
        "expected_update_period_in_days": "2",
        "url_from_event": "{{url}}",
        "type": "html",
        "mode": "on_change",
        "extract": {
          "bookurl": {
            "css": ".product__img-wrapper",
            "value": "@href"
          }
        },
        "template": {
          "bookurl": "https://www.packtpub.com{{bookurl}}",
          "url": "https://www.packtpub.com/free-learning"
        }
      },
      "schedule": "never",
      "keep_events_for": 0,
      "propagate_immediately": true
    },
    {
      "type": "Agents::WebsiteAgent",
      "name": "Packt Book Info Scraper",
      "disabled": false,
      "guid": "a2032b7f4d4d21fcc9715601744b42bc",
      "options": {
        "expected_update_period_in_days": "2",
        "url": "{{bookurl}}",
        "type": "html",
        "mode": "on_change",
        "extract": {
          "title": {
            "css": ".page-title",
            "value": "string(.)"
          },
          "author": {
            "css": ".authors",
            "value": "string(.)"
          },
          "publication_date": {
            "css": ".release-date",
            "value": "string(.)"
          },
          "page_count": {
            "css": "p.length:nth-child(4)",
            "value": "string(.)"
          },
          "overview": {
            "css": "div.product:nth-child(6)",
            "value": "string(.)"
          }
        },
        "template": {
          "url": "https://www.packtpub.com/free-learning",
          "page_count": "{{page_count | strip_newlines | split: \" pages\" | first}}",
          "overview": "{{overview  | strip_newlines}}{% line_break %}{% line_break %}{{bookurl}}",
          "publication_date": "{{publication_date | strip_newlines}}",
          "author": "{{author | strip_newlines}}",
          "title": "{{title | strip_newlines}}"
        }
      },
      "schedule": "never",
      "keep_events_for": 0,
      "propagate_immediately": true
    }
  ],
  "links": [
    {
      "source": 1,
      "receiver": 2
    },
    {
      "source": 2,
      "receiver": 3
    },
    {
      "source": 3,
      "receiver": 0
    }
  ],
  "control_links": [

  ]
}
